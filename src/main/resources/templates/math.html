<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhml" xmlns:th="http://www.thymeleaf.org">
    
    <head>
        <meta charset="UTF-8">
        <title>Fast Math Web Application</title>
    </head>
    <body>
		<script>
			const getEquation = () => {
				fetch("/math", {
				  method: "GET",
				  headers: {
				    "Content-type": "application/json; charset=UTF-8"
				  }
				}).then((res) => {
					res.json().then(body => {
						equation = body;
						document.getElementById("a").innerText = equation.a;
						document.getElementById("op").innerText = equation.op;
						document.getElementById("b").innerText = equation.b;
					});
				});
			}
			
			const sendResult = () => {
				const result = document.getElementById("results").value;
				fetch("/math", {
				  method: "POST",
				  body: JSON.stringify({
				    results: result,
				    eq: {
						"a": 1,
						"b": 2,
						"op": "+",
						"result": 3,
					}
				  }),
				  headers: {
				    "Content-type": "application/json; charset=UTF-8"
				  }
				}).then((res) => {
					console.log(res);
				});
			}
			
			// init
			let equation = {};
			getEquation();
		</script>
		<span id="a"> Prénom </span>
		<span id="op"> Prénom </span>
		<span id="b"> Prénom </span>
		<span> = </span>
		<span><input type="number" id="results"/></span>
		<button th:onclick="sendResult()">Send</button>
    </body>
</html>